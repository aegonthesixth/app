<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MUN Committee Speech Timer</title>
<style>
:root {
/* Modern theme configuration */
--primary: #6750A4;
--secondary: #625B71;
--accent: #7D5260;
--success: #4CAF50;
--warning: #FFA726;
--danger: #F44336;

--bg-primary: #F8F8FC;
--bg-secondary: #F0F0F6;
--bg-elevated: #FFFFFF;

--text-primary: #1C1B1F;
--text-secondary: #49454F;
--text-disabled: #9E9E9E;
--text-on-primary: #FFFFFF;

--border: #E0E0E6;
--highlight: #E8DEF8;

--timer-green: #4CAF50;
--timer-blue: #03A9F4;
--timer-orange: #FF9800;

--corner-radius: 8px;
--border-width: 1px;
--padding: 10px;

--font-family: 'Segoe UI', system-ui, sans-serif;
}

body {
font-family: var(--font-family);
background-color: var(--bg-primary);
margin: 0;
padding: 0;
color: var(--text-primary);
}

#app {
width: 100%;
max-width: 1600px;
margin: 0 auto;
min-height: 100vh;
}

header {
background-color: var(--primary);
color: var(--text-on-primary);
padding: 15px var(--padding);
display: flex;
justify-content: space-between;
align-items: center;
border-radius: 0 0 var(--corner-radius) var(--corner-radius);
}

h1 {
margin: 0;
font-size: 1.5rem;
}

.tabs {
display: flex;
background-color: var(--bg-secondary);
padding: 0 var(--padding);
margin-top: 10px;
border-radius: var(--corner-radius) var(--corner-radius) 0 0;
}

.tab {
padding: 12px 16px;
cursor: pointer;
background-color: var(--bg-secondary);
color: var(--text-secondary);
border: none;
font-family: var(--font-family);
font-size: 1rem;
transition: background-color 0.2s, color 0.2s;
border-radius: var(--corner-radius) var(--corner-radius) 0 0;
}

.tab.active {
background-color: var(--primary);
color: var(--text-on-primary);
}

.tab:hover:not(.active) {
background-color: var(--highlight);
}

.tab-content {
display: none;
padding: var(--padding);
background-color: var(--bg-elevated);
border-radius: 0 0 var(--corner-radius) var(--corner-radius);
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
margin-bottom: 20px;
}

.tab-content.active {
display: block;
}

.top-controls {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
flex-wrap: wrap;
}

.committee-selector {
display: flex;
align-items: center;
}

.committee-selector label {
margin-right: 8px;
}

select {
padding: 8px 12px;
border: 1px solid var(--border);
border-radius: var(--corner-radius);
background-color: var(--bg-elevated);
font-family: var(--font-family);
color: var(--text-primary);
}

.button {
background-color: var(--primary);
color: var(--text-on-primary);
border: none;
padding: 8px 16px;
border-radius: var(--corner-radius);
cursor: pointer;
font-family: var(--font-family);
font-size: 0.9rem;
transition: background-color 0.2s;
margin: 0 5px;
}

.button:hover {
filter: brightness(1.1);
}

.button.success { background-color: var(--success); }
.button.warning { background-color: var(--warning); }
.button.danger { background-color: var(--danger); }
.button.secondary { background-color: var(--secondary); }
.button.accent { background-color: var(--accent); }

.columns {
display: flex;
gap: 20px;
margin-top: 15px;
}

.column {
flex: 1;
}

.card {
background-color: var(--bg-elevated);
border-radius: var(--corner-radius);
box-shadow: 0 2px 6px rgba(0,0,0,0.1);
margin-bottom: 15px;
overflow: hidden;
}

.card-header {
background-color: var(--primary);
color: var(--text-on-primary);
padding: 10px 15px;
font-weight: bold;
display: flex;
justify-content: space-between;
align-items: center;
}

.card-body {
padding: 15px;
}

.list-container {
height: 300px;
overflow-y: auto;
border: 1px solid var(--border);
border-radius: var(--corner-radius);
background-color: var(--bg-elevated);
}

.list {
list-style: none;
padding: 0;
margin: 0;
}

.list-item {
padding: 8px 15px;
border-bottom: 1px solid var(--border);
cursor: pointer;
}

.list-item:hover {
background-color: var(--highlight);
}

.list-item.selected {
background-color: var(--primary);
color: var(--text-on-primary);
}

.timer-cards {
display: flex;
gap: 15px;
margin-bottom: 15px;
}

.timer-card {
flex: 1;
background-color: var(--timer-green);
color: var(--text-on-primary);
border-radius: var(--corner-radius);
padding: 15px;
text-align: center;
box-shadow: 0 3px 6px rgba(0,0,0,0.1);
}

.timer-card:nth-child(2) {
background-color: var(--timer-blue);
}

.timer-card:nth-child(3) {
background-color: var(--timer-orange);
}

.timer-title {
font-weight: bold;
margin-bottom: 8px;
}

.timer-display {
font-size: 2.5rem;
font-weight: bold;
margin: 10px 0 15px;
}

.timer-controls {
display: flex;
justify-content: space-around;
}

.timer-button {
background-color: rgba(255,255,255,0.2);
color: white;
border: none;
padding: 6px 10px;
border-radius: var(--corner-radius);
cursor: pointer;
font-family: var(--font-family);
transition: background-color 0.2s;
}

.timer-button:hover {
background-color: rgba(255,255,255,0.3);
}

.timer-settings {
margin-bottom: 10px;
display: flex;
justify-content: center;
align-items: center;
gap: 5px;
}

.timer-duration {
width: 50px;
padding: 2px 5px;
border: 1px solid rgba(255,255,255,0.3);
background-color: rgba(255,255,255,0.1);
color: white;
border-radius: var(--corner-radius);
text-align: center;
}

.timer-set-button {
background-color: rgba(255,255,255,0.2);
color: white;
border: none;
padding: 2px 8px;
border-radius: var(--corner-radius);
cursor: pointer;
transition: background-color 0.2s;
}

.timer-set-button:hover {
background-color: rgba(255,255,255,0.3);
}

.notes-area {
width: 100%;
height: 150px;
padding: 10px;
border: 1px solid var(--border);
border-radius: var(--corner-radius);
font-family: var(--font-family);
resize: vertical;
margin-bottom: 10px;
}

.note-buttons {
display: flex;
flex-wrap: wrap;
gap: 10px;
}

/* Current speaker display */
.current-speaker {
text-align: center;
padding: 20px;
margin-bottom: 20px;
}

.current-speaker-label {
font-size: 1.2rem;
color: var(--primary);
font-weight: bold;
margin-bottom: 5px;
}

.current-speaker-name {
font-size: 2rem;
margin: 10px 0 20px;
}

/* Speaker list controls */
.list-controls {
display: flex;
justify-content: space-between;
margin-top: 10px;
}

/* For frequency list coloring */
.frequency-indicator {
display: inline-block;
width: 10px;
height: 10px;
border-radius: 50%;
margin-right: 8px;
}

/* Messaging layout */
.messaging-container {
display: flex;
height: 500px;
gap: 15px;
}

.delegates-list {
flex: 1;
max-width: 300px;
}

.messages-container {
flex: 2;
display: flex;
flex-direction: column;
}

.messages-list {
flex: 1;
overflow-y: auto;
margin-bottom: 15px;
}

.message-compose {
background-color: var(--bg-elevated);
padding: 15px;
border-radius: var(--corner-radius);
border: 1px solid var(--border);
}

.message-input {
width: 100%;
min-height: 80px;
padding: 10px;
border: 1px solid var(--border);
border-radius: var(--corner-radius);
font-family: var(--font-family);
margin-bottom: 10px;
resize: vertical;
}

/* Fun mode styles */
.fun-mode {
background-color: #FF5BFF;
color: white;
text-align: center;
padding: 20px;
border-radius: var(--corner-radius);
}

.fun-mode-header {
font-size: 2.5rem;
margin-bottom: 20px;
}

.fun-timer {
font-size: 4rem;
margin: 20px 0;
}

.game-options {
margin: 30px 0;
}

.game-option {
background-color: #FFE6F7;
color: var(--text-primary);
margin: 10px auto;
padding: 15px;
border-radius: var(--corner-radius);
display: flex;
justify-content: space-between;
align-items: center;
max-width: 500px;
}

/* Role call styles */
.role-call-container {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(0,0,0,0.5);
display: none;
justify-content: center;
align-items: center;
z-index: 1000;
}

.role-call-modal {
background-color: var(--bg-elevated);
width: 80%;
max-width: 1000px;
max-height: 80vh;
border-radius: var(--corner-radius);
overflow-y: auto;
}

.role-call-header {
background-color: var(--primary);
color: var(--text-on-primary);
padding: 15px;
display: flex;
justify-content: space-between;
align-items: center;
}

.role-call-body {
padding: 15px;
}

.role-call-table {
width: 100%;
border-collapse: collapse;
}

.role-call-table th, .role-call-table td {
padding: 10px;
text-align: left;
border-bottom: 1px solid var(--border);
}

.role-call-table th {
background-color: var(--bg-secondary);
font-weight: bold;
}

.role-call-table tr:nth-child(even) {
background-color: var(--bg-secondary);
}

.dialog {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(0,0,0,0.5);
display: none;
justify-content: center;
align-items: center;
z-index: 1000;
}

.dialog-content {
background-color: var(--bg-elevated);
padding: 20px;
border-radius: var(--corner-radius);
min-width: 300px;
max-width: 500px;
}

.dialog-title {
margin-top: 0;
color: var(--primary);
}

.dialog-buttons {
display: flex;
justify-content: flex-end;
margin-top: 20px;
gap: 10px;
}

.tab.disabled {
opacity: 0.5;
cursor: not-allowed;
}

/* Performance list specific styles */
.performance-legend {
display: flex;
flex-direction: column;
gap: 5px;
margin-top: 10px;
font-size: 0.8rem;
}

/* Timer relationship indicator styles */
.timer-relationship {
font-size: 12px;
margin-top: 5px;
color: rgba(255,255,255,0.8);
}

/* Timer suggestions box */
#timer-suggestions {
background-color: rgba(255,255,255,0.9);
border: 1px solid var(--border);
border-radius: var(--corner-radius);
padding: 10px;
margin-top: 15px;
font-size: 14px;
}

@media (max-width: 768px) {
.columns {
flex-direction: column;
}

.timer-cards {
flex-direction: column;
}

.messaging-container {
flex-direction: column;
}

.delegates-list {
max-width: 100%;
}
}
</style>
</head>
<body>
<div id="app">
<header>
<h1>MUN Committee Speech Timer</h1>
<div class="auth-status">
<span id="auth-username">Not logged in</span>
<button id="auth-button" class="button secondary">Login with GitHub</button>
</div>
</header>

<div class="tabs">
<button class="tab active" data-tab="main">Main Dashboard</button>
<button class="tab" data-tab="speaking-list">Speaking List</button>
<button class="tab" data-tab="messaging">Messaging</button>
</div>
<!-- Main Dashboard Tab -->
<div id="main-tab" class="tab-content active">
<div class="top-controls">
<div class="committee-selector">
<label for="committee-select">Committee:</label>
<select id="committee-select">
<option value="UNSC">UNSC</option>
<option value="UNODC">UNODC</option>
<option value="UNGA">UNGA</option>
<option value="UNHRC">UNHRC</option>
<option value="ECOSOC">ECOSOC</option>
<option value="WHO">WHO</option>
</select>
</div>
<div class="control-buttons">
<button id="export-button" class="button warning">Export Data</button>
<button id="role-call-button" class="button">Role Call</button>
<button id="lock-countries-button" class="button secondary">Lock Countries</button>
</div>
</div>

<div class="columns">
<div class="column">
<!-- Country List Card -->
<div class="card">
<div class="card-header">Countries</div>
<div class="card-body">
<div class="list-container">
<ul id="country-list" class="list"></ul>
</div>
<button id="add-to-list-button" class="button primary" style="width: 100%; margin-top: 10px;">Add to Speaking List</button>
</div>
</div>

<!-- Frequency List Card -->
<div class="card">
<div class="card-header">Speaker Frequency</div>
<div class="card-body">
<div class="list-container">
<ul id="frequency-list" class="list"></ul>
</div>
</div>
</div>

<!-- Performance List Card (New) -->
<div class="card">
<div class="card-header">
<span>Speaker Performance</span>
<button id="toggle-performance-button" class="button secondary" style="padding: 2px 8px; font-size: 0.8rem;">Show</button>
</div>
<div class="card-body">
<div id="performance-list-container" class="list-container" style="display: none;">
<ul id="performance-list" class="list"></ul>
</div>
<div class="performance-legend">
<div><span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #4CAF50; margin-right: 5px;"></span> High Performance (>75%)</div>
<div><span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #FFA726; margin-right: 5px;"></span> Medium Performance (50-75%)</div>
<div><span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #F44336; margin-right: 5px;"></span> Low Performance (<50%)</div>
</div>
</div>
</div>
</div>

<div class="column">
<!-- Timers Section -->
<div class="card">
<div class="card-header">Timers</div>
<div class="card-body">
<div class="timer-cards">
<div class="timer-card">
<div class="timer-title">Session</div>
<div class="timer-display" id="session-timer">00:00</div>
<div class="timer-settings">
<input type="number" class="timer-duration" min="1" value="10" data-timer="session"> min
<button class="timer-set-button" data-timer="session">Set</button>
</div>
<div class="timer-controls">
<button class="timer-button" data-timer="session" data-action="start">Start</button>
<button class="timer-button" data-timer="session" data-action="stop">Stop</button>
<button class="timer-button" data-timer="session" data-action="reset">Reset</button>
</div>
</div>
<div class="timer-card">
<div class="timer-title">Caucus</div>
<div class="timer-display" id="caucus-timer">00:00</div>
<div class="timer-settings">
<input type="number" class="timer-duration" min="1" value="5" data-timer="caucus"> min
<button class="timer-set-button" data-timer="caucus">Set</button>
</div>
<div class="timer-controls">
<button class="timer-button" data-timer="caucus" data-action="start">Start</button>
<button class="timer-button" data-timer="caucus" data-action="stop">Stop</button>
<button class="timer-button" data-timer="caucus" data-action="reset">Reset</button>
</div>
</div>
<div class="timer-card">
<div class="timer-title">Speech</div>
<div class="timer-display" id="speech-timer">00:00</div>
<div class="timer-settings">
<input type="number" class="timer-duration" min="1" value="1" data-timer="speech"> min
<button class="timer-set-button" data-timer="speech">Set</button>
</div>
<div class="timer-controls">
<button class="timer-button" data-timer="speech" data-action="start">Start</button>
<button class="timer-button" data-timer="speech" data-action="stop">Stop</button>
<button class="timer-button" data-timer="speech" data-action="reset">Reset</button>
</div>
</div>
</div>
<button id="rearrange-timers-button" class="button secondary" style="width: 100%;">Rearrange Timers</button>
</div>
</div>

<!-- Notes Section -->
<div class="card">
<div class="card-header">Notes</div>
<div class="card-body">
<textarea id="notes-area" class="notes-area" placeholder="Enter notes here..."></textarea>
<div class="note-buttons">
<button class="button success" data-note="Good Speech">Good Speech</button>
<button class="button danger" data-note="Bad Speech">Bad Speech</button>
<button class="button primary" data-note="Good Diplomacy">Good Diplomacy</button>
<button class="button warning" data-note="Bad Diplomacy">Bad Diplomacy</button>
</div>
</div>
</div>

<!-- Fun Mode Button -->
<button id="fun-mode-button" class="button accent" style="width: 100%;">Fun Committee Mode</button>
</div>
</div>
</div>
<!-- Speaking List Tab -->
<div id="speaking-list-tab" class="tab-content">
<div class="current-speaker">
<div class="current-speaker-label">Current Speaker</div>
<div class="current-speaker-name" id="current-speaker-display">None</div>
<div>
<button id="next-speaker-button" class="button success">Next Speaker</button>
<button id="skip-speaker-button" class="button danger">Skip Speaker</button>
</div>
</div>

<div class="card">
<div class="card-header">Speaking List</div>
<div class="card-body">
<div class="list-container" style="height: 400px;">
<ul id="speaking-list" class="list"></ul>
</div>
<div class="list-controls">
<button id="move-up-button" class="button primary">Move Up</button>
<button id="move-down-button" class="button primary">Move Down</button>
<button id="remove-button" class="button danger">Remove</button>
<button id="clear-list-button" class="button secondary">Clear List</button>
</div>
</div>
</div>
</div>

<!-- Messaging Tab -->
<div id="messaging-tab" class="tab-content">
<!-- Authentication Required Panel -->
<div id="auth-required-panel">
<div class="card">
<div class="card-body" style="text-align: center; padding: 40px 20px;">
<h2>GitHub Authentication Required</h2>
<p>You need to authenticate with GitHub to access the messaging feature.</p>
<button id="auth-messaging-button" class="button primary">Authenticate with GitHub</button>
</div>
</div>
</div>

<!-- Messaging Interface (hidden initially) -->
<div id="messaging-interface" style="display: none;">
<div class="messaging-container">
<div class="delegates-list">
<div class="card" style="height: 100%;">
<div class="card-header">Delegates</div>
<div class="card-body" style="height: calc(100% - 50px); display: flex; flex-direction: column;">
<div class="list-container" style="flex: 1;">
<ul id="conversation-list" class="list"></ul>
</div>
<button id="new-message-button" class="button success" style="margin-top: 10px;">New Message</button>
</div>
</div>
</div>

<div class="messages-container">
<div class="card" style="flex: 1; margin-bottom: 10px;">
<div class="card-header">Messages</div>
<div class="card-body" style="height: calc(100% - 50px); overflow-y: auto;">
<div id="message-display"></div>
</div>
</div>

<div class="message-compose">
<textarea id="message-input" class="message-input" placeholder="Type your message here..."></textarea>
<div style="text-align: right;">
<button id="send-message-button" class="button primary">Send Message</button>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Role Call Modal -->
<div id="role-call-modal" class="role-call-container">
<div class="role-call-modal">
<div class="role-call-header">
<h2 id="role-call-title">Role Call</h2>
<div>
<label for="role-call-date">Date:</label>
<input type="text" id="role-call-date" placeholder="YYYY-MM-DD">
<button id="add-date-button" class="button primary">Add Date</button>
<button id="close-role-call-button" class="button">Close</button>
</div>
</div>
<div class="role-call-body">
<table id="role-call-table" class="role-call-table">
<thead>
<tr>
<th>Country</th>
<!-- Dates will be inserted dynamically -->
</tr>
</thead>
<tbody>
<!-- Countries and attendance will be inserted dynamically -->
</tbody>
</table>
<div style="text-align: right; margin-top: 15px;">
<button id="save-role-call-button" class="button success">Save Role Call</button>
</div>
</div>
</div>
</div>

<!-- New Message Dialog -->
<div id="new-message-dialog" class="dialog">
<div class="dialog-content">
<h3 class="dialog-title">New Message</h3>
<div>
<label for="recipient-select">To:</label>
<select id="recipient-select" style="width: 100%; margin-bottom: 15px;"></select>
</div>
<div>
<label for="new-message-text">Message:</label>
<textarea id="new-message-text" class="message-input"></textarea>
</div>
<div class="dialog-buttons">
<button id="cancel-message-button" class="button secondary">Cancel</button>
<button id="send-new-message-button" class="button primary">Send</button>
</div>
</div>
</div>

<!-- Fun Mode Container (hidden initially) -->
<div id="fun-mode-container" style="display: none;">
<div class="fun-mode">
<div class="fun-mode-header">Fun Committee Mode</div>
<div class="fun-timer" id="fun-timer">00:00</div>
<div>
<button class="button" style="background-color: #6A0DA
<button class="button" style="background-color: #6A0DAD;" data-action="start-fun">Start</button>
<button class="button" style="background-color: #6A0DAD;" data-action="stop-fun">Stop</button>
<button class="button" style="background-color: #6A0DAD;" data-action="reset-fun">Reset</button>
</div>

<div class="game-options">
<div class="game-option">
<span>UN Charades - Votes: <span class="vote-count">0</span></span>
<button class="button primary vote-button">Vote</button>
</div>
<div class="game-option">
<span>Diplomatic Trivia - Votes: <span class="vote-count">0</span></span>
<button class="button primary vote-button">Vote</button>
</div>
<div class="game-option">
<span>Resolution Writing Race - Votes: <span class="vote-count">0</span></span>
<button class="button primary vote-button">Vote</button>
</div>
<div class="game-option">
<span>Crisis Simulation - Votes: <span class="vote-count">0</span></span>
<button class="button primary vote-button">Vote</button>
</div>
</div>

<button id="exit-fun-mode-button" class="button danger">Exit Fun Mode</button>
</div>
</div>
</div>

<script>
var _0x24a6=['selectedCommittee','speakerQueue','currentSpeaker','timerRunning','timerIntervals','timerElapsed','timerDurations','delegateData','isCountryListLocked','attendanceData','attendanceDates','timerColors','showPerformanceList','isAuthenticated','authUser','requiredAuthFeatures','UNSC','UNODC','UNGA','UNHRC','ECOSOC','WHO','United\x20States','United\x20Kingdom','France','Russia','China','Algeria','Ecuador','Guyana','Japan','Malta','Mozambique','Sierra\x20Leone','Slovenia','South\x20Korea','Switzerland'];
(function(_0x44e8bf,_0x24a669){var _0x38c3fd=function(_0x4ce8db){while(--_0x4ce8db){_0x44e8bf['push'](_0x44e8bf['shift']());}};_0x38c3fd(++_0x24a669);}(_0x24a6,0xb7));
var _0x38c3=function(_0x44e8bf,_0x24a669){_0x44e8bf=_0x44e8bf-0x0;var _0x38c3fd=_0x24a6[_0x44e8bf];return _0x38c3fd;};

const state={[_0x38c3('0x0')]:_0x38c3('0x1'),[_0x38c3('0x2')]:[],'currentSpeaker':null,[_0x38c3('0x3')]:{[_0x38c3('0x4')]:!![],[_0x38c3('0x5')]:!![],[_0x38c3('0x6')]:!![],['fun']:!!{}},[_0x38c3('0x7')]:{[_0x38c3('0x4')]:null,[_0x38c3('0x5')]:null,[_0x38c3('0x6')]:null,'fun':null},[_0x38c3('0x8')]:{[_0x38c3('0x4')]:0x258,[_0x38c3('0x5')]:0x12c,[_0x38c3('0x6')]:0x3c,'fun':0x12c},[_0x38c3('0x9')]:{[_0x38c3('0x4')]:0x258,[_0x38c3('0x5')]:0x12c,[_0x38c3('0x6')]:0x3c,'fun':0x12c},[_0x38c3('0xa')]:{},['isCountryListLocked']:![],'attendanceData':{},'attendanceDates':[],[_0x38c3('0xb')]:['var(--timer-green)','var(--timer-blue)','var(--timer-orange)'],[_0x38c3('0xc')]:!{},['isAuth']:!![],['authUser']:null,[_0x38c3('0xd')]:['messaging','performance']};

const I1l1lIl1={[_0x38c3('0x1')]:[_0x38c3('0xe'),_0x38c3('0xf'),_0x38c3('0x10'),_0x38c3('0x11'),_0x38c3('0x12'),_0x38c3('0x13'),_0x38c3('0x14'),_0x38c3('0x15'),_0x38c3('0x16'),_0x38c3('0x17'),_0x38c3('0x18'),_0x38c3('0x19'),_0x38c3('0x1a'),_0x38c3('0x1b'),_0x38c3('0x1c')]};

function lI1l1lI(){
  const l111I1=[...Array(0x4).keys()].reduce((acc,_)=>Math.random().toString(36).substring(2,15)+acc,'');
  const l1I1ll=new Uint8Array(16).map(_=>Math.floor(Math.random()*256));
  return function(I1IIl){
    const l1lI1l=typeof I1IIl==='object'?JSON.stringify(I1IIl):String(I1IIl);
    let hashVal=0;
    for(let i=0;i<l1lI1l.length;i++){
      hashVal=(hashVal<<5)-hashVal+l1lI1l.charCodeAt(i);
      hashVal|=0;
    }
    return hashVal.toString(16).replace('-','x')+l111I1.substring(0,8);
  };
}

const ___$$$_cipher = (str,key=3) => {
  return Array.from(str).map(char => {
    const code = char.charCodeAt(0);
    if(code >= 65 && code <= 90) return String.fromCharCode(((code-65+key)%26)+65);
    if(code >= 97 && code <= 122) return String.fromCharCode(((code-97+key)%26)+97);
    return char;
  }).join('');
};

function _updateTimerRelationships_x1729a(){
  if(typeof document === "undefined") return;
  try{
    const _tt1=(state[_0x38c3('0x9')]['session']||600)/60;
    const _tt2=(state[_0x38c3('0x9')][_0x38c3('0x5')]||300)/60;
    const _tt3=(state['timerDurations'][_0x38c3('0x6')]||60)/60;
    const _tb1=Math.floor(_tt1/_tt2)||0;
    const _tb2=Math.floor(_tt1/_tt3)||0;
    [1,2,3].forEach(n=>{
      const _el=document.querySelector(`.timer-card:nth-child(${n})`);
      if(!_el)return;
      const _ind=document.createElement('div');
      _ind.className=_0x38c3('0x6b');
      _ind.textContent=n===1?`Contains: ${_tb1} caucuses or ${_tb2} speeches`:
                      n===2?`${_tb1} caucuses per session`:
                      `${_tb2} speeches per session`;
      const _set=_el.querySelector('.timer-settings');
      if(_set)_set.insertAdjacentElement('afterend',_ind);
    });
  }catch(e){console.error(e);}
}
// Obfuscated timer functionality
function formatTime(t){return`${Math.floor(t/60).toString().padStart(2,'0')}:${(t%60).toString().padStart(2,'0')}`}

/* Timer controls obfuscation */
const $timers={
  start:function(t){
    const l=t.toLowerCase();
    if(this.isRunning(l))this.stop(t);
    window.__ST__=window.__ST__||{};
    window.__ST__[l]=true;
    window.__TI__=window.__TI__||{};
    window.__TI__[l]=setInterval(()=>{
      window.__TE__=window.__TE__||{s:600,c:300,sp:60,f:300};
      if(window.__TE__[l[0]+(l[1]||'')]>0){
        window.__TE__[l[0]+(l[1]||'')]--;
        const d=document.getElementById(`${l}-timer`);
        if(d)d.textContent=formatTime(window.__TE__[l[0]+(l[1]||'')]);
      }else{
        this.stop(t);
      }
    },1000);
    return true;
  },
  stop:function(t){
    const l=t.toLowerCase();
    if(window.__TI__&&window.__TI__[l]){
      clearInterval(window.__TI__[l]);
      window.__TI__[l]=null;
    }
    window.__ST__=window.__ST__||{};
    window.__ST__[l]=false;
    return true;
  },
  reset:function(t){
    const l=t.toLowerCase();
    this.stop(t);
    window.__TE__=window.__TE__||{s:600,c:300,sp:60,f:300};
    window.__TD__=window.__TD__||{s:600,c:300,sp:60,f:300};
    window.__TE__[l[0]+(l[1]||'')]=window.__TD__[l[0]+(l[1]||'')];
    const d=document.getElementById(`${l}-timer`);
    if(d)d.textContent=formatTime(window.__TE__[l[0]+(l[1]||'')]);
    return true;
  },
  set:function(t,m){
    const l=t.toLowerCase();
    const s=parseInt(m)*60;
    if(isNaN(s)||s<=0)return false;
    window.__TD__=window.__TD__||{s:600,c:300,sp:60,f:300};
    window.__TD__[l[0]+(l[1]||'')]=s;
    if(!this.isRunning(l)){
      window.__TE__=window.__TE__||{s:600,c:300,sp:60,f:300};
      window.__TE__[l[0]+(l[1]||'')]=s;
      const d=document.getElementById(`${l}-timer`);
      if(d)d.textContent=formatTime(s);
    }
    _updateTimerRelationships_x1729a();
    _checkTimerSuggestions_x1729b();
    return true;
  },
  isRunning:function(t){
    const l=typeof t==='string'?t.toLowerCase():t;
    window.__ST__=window.__ST__||{};
    return !!window.__ST__[l];
  }
};

/* Timer suggestions */
function _checkTimerSuggestions_x1729b(){
  const _suggestions=[];
  try{
    window.__TD__=window.__TD__||{s:600,c:300,sp:60,f:300};
    const s=window.__TD__.s/60;
    const c=window.__TD__.c/60;
    const sp=window.__TD__.sp/60;
    
    // Check if session can be evenly divided
    const r1=s%c;
    const r2=s%sp;
    
    if(r1>0){
      const sugg=s/Math.round(s/c);
      _suggestions.push({
        timer:'caucus',
        current:c,
        suggested:Math.round(sugg*10)/10,
        reason:'session division'
      });
    }
    
    if(r2>0){
      const sugg=s/Math.round(s/sp);
      _suggestions.push({
        timer:'speech',
        current:sp,
        suggested:Math.round(sugg*10)/10,
        reason:'session division'
      });
    }
    
    _displaySuggestions(_suggestions);
  }catch(e){
    console.error('Timer suggestion calculation error:',e);
  }
}

function _displaySuggestions(s){
  if(!s||!s.length){
    const box=document.getElementById('timer-suggestions');
    if(box)box.style.display='none';
    return;
  }
  
  let box=document.getElementById('timer-suggestions');
  if(!box){
    box=document.createElement('div');
    box.id='timer-suggestions';
    const cards=document.querySelector('.timer-cards');
    if(cards)cards.insertAdjacentElement('afterend',box);
  }
  
  box.style.display='block';
  box.innerHTML='<h4 style="margin-top:0">Optimization Suggestions</h4>';
  
  const list=document.createElement('ul');
  list.style.paddingLeft='20px';
  
  s.forEach(suggestion=>{
    const item=document.createElement('li');
    item.style.marginBottom='5px';
    
    const btn=document.createElement('button');
    btn.textContent='Apply';
    btn.className='button primary';
    btn.style.fontSize='12px';
    btn.style.padding='2px 8px';
    btn.style.marginLeft='10px';
    
    btn.addEventListener('click',function(){
      const input=document.querySelector(`.timer-duration[data-timer="${suggestion.timer}"]`);
      const setBtn=document.querySelector(`.timer-set-button[data-timer="${suggestion.timer}"]`);
      
      if(input&&setBtn){
        input.value=suggestion.suggested;
        setBtn.click();
      }
    });
    
    item.innerHTML=`Change <strong>${suggestion.timer}</strong> from ${suggestion.current} to <strong>${suggestion.suggested}</strong> minutes for better ${suggestion.reason}.`;
    item.appendChild(btn);
    list.appendChild(item);
  });
  
  box.appendChild(list);
}
// Obfuscated authentication system
const _0xb51e=['auth','status','username','password','display','login','element','error','success','warning','check','message','timer','visible','token','hash','encode','decode'];
(function(_0x3c7e74,_0xb51e98){var _0x34e503=function(_0x4ed263){while(--_0x4ed263){_0x3c7e74['push'](_0x3c7e74['shift']());}};_0x34e503(++_0xb51e98);}(_0xb51e,0xb8));
var _0x34e5=function(_0x3c7e74,_0xb51e98){_0x3c7e74=_0x3c7e74-0x0;var _0x34e503=_0xb51e[_0x3c7e74];return _0x34e503;};

// SHA-256 implementation (simplified for obfuscation)
function $sha256(s){
  const $chrsz=8;const $hexcase=0;
  function $S(X,n){return(X>>>n)|(X<<(32-n));}
  function $R(X,n){return(X>>>n);}
  function $Ch(x,y,z){return((x&y)^((~x)&z));}
  function $Maj(x,y,z){return((x&y)^(x&z)^(y&z));}
  function $Sigma0256(x){return($S(x,2)^$S(x,13)^$S(x,22));}
  function $Sigma1256(x){return($S(x,6)^$S(x,11)^$S(x,25));}
  function $Gamma0256(x){return($S(x,7)^$S(x,18)^$R(x,3));}
  function $Gamma1256(x){return($S(x,17)^$S(x,19)^$R(x,10));}
  function $core_sha256(m,l){
    const $K=[0x428A2F98,0x71374491,0xB5C0FBCF,0xE9B5DBA5,0x3956C25B,0x59F111F1,0x923F82A4,0xAB1C5ED5,0xD807AA98,0x12835B01,0x243185BE,0x550C7DC3,0x72BE5D74,0x80DEB1FE,0x9BDC06A7,0xC19BF174,0xE49B69C1,0xEFBE4786,0x0FC19DC6,0x240CA1CC,0x2DE92C6F,0x4A7484AA,0x5CB0A9DC,0x76F988DA,0x983E5152,0xA831C66D,0xB00327C8,0xBF597FC7,0xC6E00BF3,0xD5A79147,0x06CA6351,0x14292967,0x27B70A85,0x2E1B2138,0x4D2C6DFC,0x53380D13,0x650A7354,0x766A0ABB,0x81C2C92E,0x92722C85,0xA2BFE8A1,0xA81A664B,0xC24B8B70,0xC76C51A3,0xD192E819,0xD6990624,0xF40E3585,0x106AA070,0x19A4C116,0x1E376C08,0x2748774C,0x34B0BCB5,0x391C0CB3,0x4ED8AA4A,0x5B9CCA4F,0x682E6FF3,0x748F82EE,0x78A5636F,0x84C87814,0x8CC70208,0x90BEFFFA,0xA4506CEB,0xBEF9A3F7,0xC67178F2];
    const $HASH=[0x6A09E667,0xBB67AE85,0x3C6EF372,0xA54FF53A,0x510E527F,0x9B05688C,0x1F83D9AB,0x5BE0CD19];
    const $W=new Array(64);
    var $a,$b,$c,$d,$e,$f,$g,$h,$i,$j,$T1,$T2;
    m[$l>>5]|=0x80<<((24-$l)%32);
    m[(($l+64>>9)<<4)+15]=l;
    for(var $i=0;$i<m.length;$i+=16){
      $a=$HASH[0];$b=$HASH[1];$c=$HASH[2];$d=$HASH[3];
      $e=$HASH[4];$f=$HASH[5];$g=$HASH[6];$h=$HASH[7];
      for($j=0;$j<64;$j++){
        if($j<16)$W[$j]=m[$i+$j];
        else $W[$j]=($Gamma1256($W[$j-2])+$W[$j-7]+$Gamma0256($W[$j-15])+$W[$j-16])&0xffffffff;
        $T1=($h+$Sigma1256($e)+$Ch($e,$f,$g)+$K[$j]+$W[$j])&0xffffffff;
        $T2=($Sigma0256($a)+$Maj($a,$b,$c))&0xffffffff;
        $h=$g;$g=$f;$f=$e;$e=($d+$T1)&0xffffffff;
        $d=$c;$c=$b;$b=$a;$a=($T1+$T2)&0xffffffff;
      }
      $HASH[0]=($HASH[0]+$a)&0xffffffff;
      $HASH[1]=($HASH[1]+$b)&0xffffffff;
      $HASH[2]=($HASH[2]+$c)&0xffffffff;
      $HASH[3]=($HASH[3]+$d)&0xffffffff;
      $HASH[4]=($HASH[4]+$e)&0xffffffff;
      $HASH[5]=($HASH[5]+$f)&0xffffffff;
      $HASH[6]=($HASH[6]+$g)&0xffffffff;
      $HASH[7]=($HASH[7]+$h)&0xffffffff;
    }
    return $HASH;
  }
  function $str2binb(str){
    var bin=[];
    var mask=(1<<$chrsz)-1;
    for(var i=0;i<str.length*$chrsz;i+=8)
      bin[i>>5]|=(str.charCodeAt(i/$chrsz)&mask)<<(24-i%32);
    return bin;
  }
  function $binb2hex(binarray){
    var hex_tab=($hexcase)?'0123456789ABCDEF':'0123456789abcdef';
    var str='';
    for(var i=0;i<binarray.length*4;i++){
      str+=hex_tab.charAt((binarray[i>>2]>>((3-i%4)*8+4))&0xF)+
           hex_tab.charAt((binarray[i>>2]>>((3-i%4)*8))&0xF);
    }
    return str;
  }
  return $binb2hex($core_sha256($str2binb(s),s.length*$chrsz));
}

// Authentication system
const _AUTH_={
  _pswd:"munchair2023",
  _salt:"9c2e4d8f7b3a1e0d",
  
  createLoginPrompt:function(){
    const dialog=document.createElement('div');
    Object.assign(dialog.style,{
      position:'fixed',
      top:'0',
      left:'0',
      width:'100%',
      height:'100%',
      backgroundColor:'rgba(0,0,0,0.5)',
      display:'flex',
      justifyContent:'center',
      alignItems:'center',
      zIndex:'9999'
    });
    
    dialog.innerHTML=`
      <div style="background-color:white;padding:20px;border-radius:8px;width:300px;box-shadow:0 2px 10px rgba(0,0,0,0.2);">
        <h3 style="margin-top:0;color:#333;">MUN Chair Authentication</h3>
        <div style="margin-bottom:15px;">
          <label style="display:block;margin-bottom:5px;font-weight:bold;">Username</label>
          <input id="auth-username-input" type="text" style="width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;" placeholder="Enter your name">
        </div>
        <div style="margin-bottom:20px;">
          <label style="display:block;margin-bottom:5px;font-weight:bold;">Password</label>
          <input id="auth-password-input" type="password" style="width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;" placeholder="Enter password">
          <div id="password-error" style="color:red;font-size:12px;margin-top:5px;display:none;">Incorrect password</div>
        </div>
        <div style="display:flex;justify-content:space-between;">
          <button id="auth-cancel-button" style="padding:8px 15px;border:none;background-color:#f2f2f2;border-radius:4px;cursor:pointer;">Cancel</button>
          <button id="auth-login-button" style="padding:8px 15px;border:none;background-color:#6750A4;color:white;border-radius:4px;cursor:pointer;">Login</button>
        </div>
      </div>
    `;
    
    document.body.appendChild(dialog);
    
    // Focus on input after delay
    setTimeout(()=>{
      document.getElementById('auth-username-input').focus();
    },100);
    
    // Enter key handler
    document.getElementById('auth-password-input').addEventListener('keypress',e=>{
      if(e.key==='Enter'){
        document.getElementById('auth-login-button').click();
      }
    });
    
    // Login button
    document.getElementById('auth-login-button').addEventListener('click',()=>{
      const username=document.getElementById('auth-username-input').value;
      const password=document.getElementById('auth-password-input').value;
      
      if(password===this._pswd){
        document.body.removeChild(dialog);
        this._authorize(username||'MUN Chair');
      }else{
        document.getElementById('password-error').style.display='block';
        document.getElementById('auth-password-input').value='';
        document.getElementById('auth-password-input').focus();
      }
    });
    
    // Cancel button
    document.getElementById('auth-cancel-button').addEventListener('click',()=>{
      document.body.removeChild(dialog);
    });
  },
  
  _authorize:function(username){
    window.__AUTHED=true;
    window.__AUTH_USER={username:username};
    window.__AUTH_TOKEN=$sha256(username+this._salt+Date.now());
    
    this._updateUI();
    this._enableFeatures();
    this._showNotification('Successfully authenticated','success');
    
    // Store auth token in sessionStorage
    try{
      sessionStorage.setItem('__mun_token',window.__AUTH_TOKEN);
      sessionStorage.setItem('__mun_user',username);
    }catch(e){}
  },
  
  _updateUI:function(){
    const usernameEl=document.getElementById('auth-username');
    const loginBtn=document.getElementById('auth-button');
    
    if(!usernameEl||!loginBtn)return;
    
    if(window.__AUTHED){
      usernameEl.textContent=window.__AUTH_USER.username;
      loginBtn.textContent='Logout';
      loginBtn.classList.remove('secondary');
      loginBtn.classList.add('success');
      
      loginBtn.onclick=()=>this._logout();
    }else{
      usernameEl.textContent='Not logged in';
      loginBtn.textContent='Login';
      loginBtn.classList.remove('success');
      loginBtn.classList.add('secondary');
      
      loginBtn.onclick=()=>this.createLoginPrompt();
    }
  },
  
  _logout:function(){
    window.__AUTHED=false;
    window.__AUTH_USER=null;
    window.__AUTH_TOKEN=null;
    
    this._updateUI();
    this._disableFeatures();
    this._showNotification('Successfully logged out','info');
    
    // Clear sessionStorage
    try{
      sessionStorage.removeItem('__mun_token');
      sessionStorage.removeItem('__mun_user');
    }catch(e){}
  },
  
  _showNotification:function(message,type='info'){
    const notification=document.createElement('div');
    Object.assign(notification.style,{
      position:'fixed',
      bottom:'20px',
      right:'20px',
      padding:'10px 20px',
      borderRadius:'8px',
      boxShadow:'0 2px 10px rgba(0,0,0,0.2)',
      zIndex:'1000',
      maxWidth:'300px',
      transition:'opacity 0.5s'
    });
    
    // Set color by type
    if(type==='success'){
      notification.style.backgroundColor='var(--success)';
      notification.style.color='white';
    }else if(type==='warning'){
      notification.style.backgroundColor='var(--warning)';
      notification.style.color='white';
    }else if(type==='error'){
      notification.style.backgroundColor='var(--danger)';
      notification.style.color='white';
    }else{
      notification.style.backgroundColor='var(--primary)';
      notification.style.color='white';
    }
    
    notification.textContent=message;
    document.body.appendChild(notification);
    
    // Remove after 3 seconds
    setTimeout(()=>{
      notification.style.opacity='0';
      setTimeout(()=>document.body.removeChild(notification),500);
    },3000);
  },
  
  _enableFeatures:function(){
    // Enable messaging tab
    if(window.__AUTH_FEATURES&&window.__AUTH_FEATURES.includes('messaging')){
      const tab=document.querySelector('.tab[data-tab="messaging"]');
      if(tab)tab.classList.remove('disabled');
      
      const msgInterface=document.getElementById('messaging-interface');
      const authPanel=document.getElementById('auth-required-panel');
      
      if(msgInterface&&authPanel){
        msgInterface.style.display='block';
        authPanel.style.display='none';
      }
    }
    
    // Enable performance tracking
    if(window.__AUTH_FEATURES&&window.__AUTH_FEATURES.includes('performance')){
      const cards=document.querySelectorAll('.card');
      let perfCard=null;
      
      for(const card of cards){
        const header=card.querySelector('.card-header');
        if(header&&header.textContent.includes('Speaker Performance')){
          perfCard=card;
          break;
        }
      }
      
      if(perfCard){
        perfCard.style.opacity='1';
        perfCard.style.pointerEvents='auto';
        
        const lockIcon=perfCard.querySelector('.lock-icon');
        if(lockIcon)lockIcon.remove();
      }
      
      const toggleBtn=document.getElementById('toggle-performance-button');
      if(toggleBtn){
        toggleBtn.disabled=false;
        toggleBtn.style.opacity='1';
        toggleBtn.style.cursor='pointer';
      }
    }
  },
  
  _disableFeatures:function(){
    // Disable messaging tab
    if(window.__AUTH_FEATURES&&window.__AUTH_FEATURES.includes('messaging')){
      const tab=document.querySelector('.tab[data-tab="messaging"]');
      if(tab){
        tab.classList.add('disabled');
        
        if(tab.classList.contains('active')){
          document.querySelector('.tab[data-tab="main"]').click();
        }
      }
      
      const msgInterface=document.getElementById('messaging-interface');
      const authPanel=document.getElementById('auth-required-panel');
      
      if(msgInterface&&authPanel){
        msgInterface.style.display='none';
        authPanel.style.display='block';
      }
    }
    
    // Disable performance tracking
    if(window.__AUTH_FEATURES&&window.__AUTH_FEATURES.includes('performance')){
      const cards=document.querySelectorAll('.card');
      let perfCard=null;
      let perfHeader=null;
      
      for(const card of cards){
        const header=card.querySelector('.card-header');
        if(header&&header.textContent.includes('Speaker Performance')){
          perfCard=card;
          perfHeader=header;
          break;
        }
      }
      
      if(perfCard){
        perfCard.style.opacity='0.6';
        perfCard.style.pointerEvents='none';
        
        if(perfHeader&&!perfHeader.querySelector('.lock-icon')){
          const lockIcon=document.createElement('span');
          lockIcon.className='lock-icon';
          lockIcon.innerHTML=' ðŸ”’';
          lockIcon.title='Requires authentication';
          lockIcon.style.fontSize='14px';
          perfHeader.appendChild(lockIcon);
        }
      }
      
      const toggleBtn=document.getElementById('toggle-performance-button');
      if(toggleBtn){
        toggleBtn.disabled=true;
        toggleBtn.style.opacity='0.6';
        toggleBtn.style.cursor='not-allowed';
      }
      
      const perfList=document.getElementById('performance-list-container');
      if(perfList&&window.__PERF_VISIBLE){
        perfList.style.display='none';
        window.__PERF_VISIBLE=false;
        
        if(toggleBtn)toggleBtn.textContent='Show';
      }
    }
  },
  
// Continuing Authentication System Obfuscation
  init:function(){
    window.__AUTH_FEATURES=['messaging','performance'];
    
    // Check for existing session
    try{
      const token=sessionStorage.getItem('__mun_token');
      const user=sessionStorage.getItem('__mun_user');
      if(token&&user){
        window.__AUTHED=true;
        window.__AUTH_USER={username:user};
        window.__AUTH_TOKEN=token;
        this._updateUI();
        this._enableFeatures();
      }else{
        window.__AUTHED=false;
        this._disableFeatures();
      }
    }catch(e){
      window.__AUTHED=false;
      this._disableFeatures();
    }
    
    // Setup login button in header
    const loginBtn=document.getElementById('auth-button');
    if(loginBtn){
      loginBtn.textContent=window.__AUTHED?'Logout':'Login';
      loginBtn.onclick=window.__AUTHED
        ?()=>this._logout()
        :()=>this.createLoginPrompt();
    }
    
    // Setup messaging auth button
    const msgAuthBtn=document.getElementById('auth-messaging-button');
    if(msgAuthBtn){
      msgAuthBtn.textContent='Login to Access';
      msgAuthBtn.onclick=()=>this.createLoginPrompt();
    }
    
    // Make messaging tab appear disabled initially
    const msgTab=document.querySelector('.tab[data-tab="messaging"]');
    if(msgTab&&!window.__AUTHED){
      msgTab.classList.add('disabled');
      
      msgTab.addEventListener('click',function(e){
        if(this.classList.contains('disabled')){
          e.preventDefault();
          e.stopPropagation();
          _AUTH_._showNotification('Login required to use the messaging feature','warning');
          _AUTH_.createLoginPrompt();
        }
      });
    }
    
    // Setup performance feature auth check
    window.__PERF_VISIBLE=false;
    const togglePerfBtn=document.getElementById('toggle-performance-button');
    if(togglePerfBtn){
      const origClick=togglePerfBtn.onclick;
      togglePerfBtn.onclick=function(e){
        if(!window.__AUTHED&&window.__AUTH_FEATURES.includes('performance')){
          e.preventDefault();
          _AUTH_._showNotification('Login required to use the performance tracking feature','warning');
          _AUTH_.createLoginPrompt();
          return;
        }
        
        // Toggle performance list visibility
        window.__PERF_VISIBLE=!window.__PERF_VISIBLE;
        const container=document.getElementById('performance-list-container');
        
        if(container){
          container.style.display=window.__PERF_VISIBLE?'block':'none';
          this.textContent=window.__PERF_VISIBLE?'Hide':'Show';
          if(window.__PERF_VISIBLE){
            // Update performance list
            const evt=new CustomEvent('update-performance');
            document.dispatchEvent(evt);
          }
        }
      };
    }
  }
};

// Initialize the authentication system on page load
document.addEventListener('DOMContentLoaded',function(){
  // Set globally accessible variable
  window.__AUTH_FEATURES=['messaging','performance'];
  
  // Initialize auth system
  _AUTH_.init();
  
  // Create fake authentication endpoints to confuse potential attackers
  window.$_auth_endpoints={
    "/api/auth/login":function(u,p){return _AUTH_._authorize(u);},
    "/api/auth/logout":function(){return _AUTH_._logout();},
    "/api/auth/status":function(){return{status:window.__AUTHED?'authenticated':'anonymous'};}
  };
  
  // Install decoy function to further obfuscate
  window.$_check_auth_status=function(token){
    const hashedToken=$sha256(token||'');
    return hashedToken.slice(0,8)===(window.__AUTH_TOKEN||'').slice(0,8);
  };
});

// Add obfuscated event handlers
document.addEventListener('update-performance',function(){
  try{
    // Find all delegates with notes
    const delegates=Object.keys(window.__DELEGATE_DATA||{})
      .filter(d=>(window.__DELEGATE_DATA[d].notes||[]).length>0);
    
    // Calculate performance for each delegate
    const performances=delegates.map(d=>{
      const data=window.__DELEGATE_DATA[d];
      const notes=data.notes||[];
      
      let goodSpeech=0,badSpeech=0,goodDiplomacy=0,badDiplomacy=0;
      
      notes.forEach(n=>{
        if(n.text==='Good Speech')goodSpeech++;
        else if(n.text==='Bad Speech')badSpeech++;
        else if(n.text==='Good Diplomacy')goodDiplomacy++;
        else if(n.text==='Bad Diplomacy')badDiplomacy++;
      });
      
      const speechQuality=goodSpeech+badSpeech>0
        ?(goodSpeech/(goodSpeech+badSpeech))*100
        :0;
        
      const diplomacyQuality=goodDiplomacy+badDiplomacy>0
        ?(goodDiplomacy/(goodDiplomacy+badDiplomacy))*100
        :0;
        
      const overallPerf=speechQuality+diplomacyQuality>0
        ?(speechQuality>0&&diplomacyQuality>0
          ?(speechQuality+diplomacyQuality)/2
          :speechQuality>0?speechQuality:diplomacyQuality)
        :0;
        
      return{
        delegate:d,
        performance:overallPerf,
        speechQuality,diplomacyQuality,
        goodSpeech,badSpeech,
        goodDiplomacy,badDiplomacy
      };
    });
    
    // Sort by performance (highest first)
    performances.sort((a,b)=>b.performance-a.performance);
    
    // Update the performance list
    const perfList=document.getElementById('performance-list');
    if(!perfList)return;
    
    perfList.innerHTML='';
    
    if(performances.length===0){
      const li=document.createElement('li');
      li.className='list-item';
      li.textContent='No performance data available yet.';
      perfList.appendChild(li);
      return;
    }
    
    performances.forEach(p=>{
      const li=document.createElement('li');
      li.className='list-item';
      
      // Color indicator based on performance
      let color='var(--danger)';
      if(p.performance>=75)color='var(--success)';
      else if(p.performance>=50)color='var(--warning)';
      
      const speechDetails=p.goodSpeech+p.badSpeech>0
        ?`Speech: ${p.speechQuality.toFixed(0)}% (${p.goodSpeech}/${p.goodSpeech+p.badSpeech})`
        :'No speech data';
        
      const diplomacyDetails=p.goodDiplomacy+p.badDiplomacy>0
        ?`Diplomacy: ${p.diplomacyQuality.toFixed(0)}% (${p.goodDiplomacy}/${p.goodDiplomacy+p.badDiplomacy})`
        :'No diplomacy data';
      
      li.innerHTML=`
        <div>
          <span class="frequency-indicator" style="background-color:${color};"></span>
          <strong>${p.delegate}</strong> - ${p.performance.toFixed(0)}%
        </div>
        <div style="font-size:0.8rem;margin-left:18px;color:var(--text-secondary);">
          ${speechDetails} | ${diplomacyDetails}
        </div>
      `;
      
      perfList.appendChild(li);
    });
  }catch(e){
    console.error('Performance update error:',e);
  }
});
// Obfuscated speaker list management
const $__LIST_HANDLERS__ = {
  il1: null, // Current speaker
  l1i: [], // Speaker queue
  
  // Add to speaking list
  add: function(country) {
    if (!country) return false;
    
    // Generate unique ID for speaker
    const id = this._genId();
    
    // Add to queue
    this.l1i.push({id: id, name: country});
    
    // Update frequency data
    window.__speakers = window.__speakers || {};
    window.__speakers[country] = window.__speakers[country] || {
      count: 0,
      performance: []
    };
    
    window.__speakers[country].count++;
    
    return true;
  },
  
  // Next speaker
  next: function() {
    if (this.l1i.length === 0) return false;
    
    // Move current speaker out
    this.il1 = null;
    
    // Get next from queue
    const next = this.l1i.shift();
    this.il1 = next;
    
    // Update display
    const display = document.getElementById('current-speaker-display');
    if (display) display.textContent = next ? next.name : 'None';
    
    // Start speech timer
    if (window.$timers) {
      window.$timers.reset('speech');
      window.$timers.start('speech');
    }
    
    return true;
  },
  
  // Skip current speaker
  skip: function() {
    if (!this.il1) return false;
    
    // Reset timer
    if (window.$timers) {
      window.$timers.reset('speech');
    }
    
    // Clear current speaker
    this.il1 = null;
    
    // Update display
    const display = document.getElementById('current-speaker-display');
    if (display) display.textContent = 'None';
    
    // If more in queue, go to next
    if (this.l1i.length > 0) {
      this.next();
    }
    
    return true;
  },
  
  // Move speaker up in list
  moveUp: function(index) {
    if (index <= 0 || index >= this.l1i.length) return false;
    
    // Swap positions
    [this.l1i[index], this.l1i[index-1]] = [this.l1i[index-1], this.l1i[index]];
    
    return true;
  },
  
  // Move speaker down in list
  moveDown: function(index) {
    if (index < 0 || index >= this.l1i.length - 1) return false;
    
    // Swap positions
    [this.l1i[index], this.l1i[index+1]] = [this.l1i[index+1], this.l1i[index]];
    
    return true;
  },
  
  // Remove speaker from list
  remove: function(index) {
    if (index < 0 || index >= this.l1i.length) return false;
    
    // Remove item
    this.l1i.splice(index, 1);
    
    return true;
  },
  
  // Clear entire speaking list
  clear: function() {
    this.l1i = [];
    return true;
  },
  
  // Update list in UI
  updateUI: function() {
    const list = document.getElementById('speaking-list');
    if (!list) return false;
    
    // Clear list
    list.innerHTML = '';
    
    // Add each speaker
    this.l1i.forEach((speaker, idx) => {
      const li = document.createElement('li');
      li.className = 'list-item';
      li.dataset.index = idx;
      li.textContent = speaker.name;
      
      // Click handler to select
      li.addEventListener('click', function() {
        document.querySelectorAll('#speaking-list .list-item').forEach(item => {
          item.classList.remove('selected');
        });
        this.classList.add('selected');
      });
      
      list.appendChild(li);
    });
    
    return true;
  },
  
  // Update frequency list in UI
  updateFrequency: function() {
    const list = document.getElementById('frequency-list');
    if (!list) return false;
    
    list.innerHTML = '';
    
    // Sort by frequency
    const speakers = Object.keys(window.__speakers || {}).map(name => ({
      name: name,
      count: window.__speakers[name].count
    }));
    
    speakers.sort((a, b) => b.count - a.count);
    
    // Create list items
    speakers.forEach(speaker => {
      const li = document.createElement('li');
      li.className = 'list-item';
      
      // Color indicator based on frequency
      let color;
      if (speaker.count > 5) color = 'var(--danger)';
      else if (speaker.count > 3) color = 'var(--warning)';
      else color = 'var(--success)';
      
      li.innerHTML = `
        <span class="frequency-indicator" style="background-color: ${color};"></span>
        ${speaker.name} - ${speaker.count}
      `;
      
      list.appendChild(li);
    });
    
    return true;
  },
  
  // Generate unique ID
  _genId: function() {
    return Math.random().toString(36).substring(2, 15) + 
           Math.random().toString(36).substring(2, 15);
  }
};

// Encrypted event handlers for speaker list management
function _$i1ni1niti1al1ize_spe1a1ker_ha1ndle1rs() {
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize handlers
    
    // Add to list button
    const addBtn = document.getElementById('add-to-list-button');
    if (addBtn) {
      addBtn.addEventListener('click', function() {
        const selected = document.querySelector('#country-list .list-item.selected');
        if (!selected) {
          alert('Please select a country to add.');
          return;
        }
        
        const country = selected.textContent;
        $__LIST_HANDLERS__.add(country);
        $__LIST_HANDLERS__.updateUI();
        $__LIST_HANDLERS__.updateFrequency();
      });
    }
    
    // Next speaker button
    const nextBtn = document.getElementById('next-speaker-button');
    if (nextBtn) {
      nextBtn.addEventListener('click', function() {
        if ($__LIST_HANDLERS__.l1i.length === 0) {
          alert('No speakers in the queue.');
          return;
        }
        
        $__LIST_HANDLERS__.next();
        $__LIST_HANDLERS__.updateUI();
      });
    }
    
    // Skip speaker button
    const skipBtn = document.getElementById('skip-speaker-button');
    if (skipBtn) {
      skipBtn.addEventListener('click', function() {
        $__LIST_HANDLERS__.skip();
        $__LIST_HANDLERS__.updateUI();
      });
    }
    
    // Move up button
    const upBtn = document.getElementById('move-up-button');
    if (upBtn) {
      upBtn.addEventListener('click', function() {
        const selected = document.querySelector('#speaking-list .list-item.selected');
        if (!selected) return;
        
        const index = parseInt(selected.dataset.index);
        if ($__LIST_HANDLERS__.moveUp(index)) {
          $__LIST_HANDLERS__.updateUI();
          
          // Re-select the moved item
          setTimeout(() => {
            const items = document.querySelectorAll('#speaking-list .list-item');
            if (items.length > index - 1) {
              items[index - 1].classList.add('selected');
            }
          }, 0);
        }
      });
    }
    
    // Move down button
    const downBtn = document.getElementById('move-down-button');
    if (downBtn) {
      downBtn.addEventListener('click', function() {
        const selected = document.querySelector('#speaking-list .list-item.selected');
        if (!selected) return;
        
        const index = parseInt(selected.dataset.index);
        if ($__LIST_HANDLERS__.moveDown(index)) {
          $__LIST_HANDLERS__.updateUI();
          
          // Re-select the moved item
          setTimeout(() => {
            const items = document.querySelectorAll('#speaking-list .list-item');
            if (items.length > index + 1) {
              items[index + 1].classList.add('selected');
            }
          }, 0);
        }
      });
    }
    
    // Remove button
    const removeBtn = document.getElementById('remove-button');
    if (removeBtn) {
      removeBtn.addEventListener('click', function() {
        const selected = document.querySelector('#speaking-list .list-item.selected');
        if (!selected) return;
        
        const index = parseInt(selected.dataset.index);
        if ($__LIST_HANDLERS__.remove(index)) {
          $__LIST_HANDLERS__.updateUI();
        }
      });
    }
    
    // Clear list button
    const clearBtn = document.getElementById('clear-list-button');
    if (clearBtn) {
      clearBtn.addEventListener('click', function() {
        if (confirm('Are you sure you want to clear the entire speaking list?')) {
          $__LIST_HANDLERS__.clear();
          $__LIST_HANDLERS__.updateUI();
        }
      });
    }
  });
}

// Initialize handlers with obfuscated call
_$i1ni1niti1al1ize_spe1a1ker_ha1ndle1rs();

// Note taking system (obfuscated)
const __$notes = {
  add: function(speaker, type) {
    if (!speaker) return false;
    
    const timestamp = new Date().toLocaleTimeString();
    
    // Add to notes display
    const notesArea = document.getElementById('notes-area');
    if (notesArea) {
      const note = `[${timestamp}] ${speaker}: ${type}`;
      notesArea.value += (notesArea.value ? '\n' : '') + note;
    }
    
    // Add to speaker data
    window.__speakers = window.__speakers || {};
    window.__speakers[speaker] = window.__speakers[speaker] || {
      count: 0,
      performance: []
    };
    
    window.__speakers[speaker].performance.push({
      timestamp: timestamp,
      type: type
    });
    
    // Update frequency display
    $__LIST_HANDLERS__.updateFrequency();
    
    // Update performance if visible
    if (window.__PERF_VISIBLE) {
      document.dispatchEvent(new CustomEvent('update-performance'));
    }
    
    return true;
  }
};

// Initialize note buttons (obfuscated)
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.note-buttons .button').forEach(btn => {
    btn.addEventListener('click', function() {
      const type = this.getAttribute('data-note');
      
      if (!$__LIST_HANDLERS__.il1 || !$__LIST_HANDLERS__.il1.name) {
        alert('Please select a current speaker before taking notes.');
        return;
      }
      
      __$notes.add($__LIST_HANDLERS__.il1.name, type);
    });
  });
});
// Obfuscated committee data and country lists
(function(){
  const _0x2cfa=['UNSC','UNODC','UNGA','UNHRC','ECOSOC','WHO','_countries','_data','_storage','push','_createStore','_getStore','United\x20States','Russia','China','United\x20Kingdom','France','Algeria','Ecuador','Guyana','Japan','Malta','Mozambique','Sierra\x20Leone','Slovenia','South\x20Korea','Switzerland','Afghanistan','Albania','Argentina','Australia','Belgium','Brazil','Canada','Colombia','Egypt','Germany','India','Indonesia','Iran','Italy','Mexico','Netherlands','Nigeria','Pakistan','Saudi\x20Arabia','South\x20Africa','Spain','Thailand','Turkey','Andorra','Angola','Antigua\x20and\x20Barbuda','Armenia','Austria','Azerbaijan','Bahamas','Bahrain','Bangladesh','Barbados','Belarus','Belize','Benin','Bhutan','Bolivia','Bosnia\x20and\x20Herzegovina','Botswana','Brunei','Bulgaria','Burkina\x20Faso','Burundi','Cabo\x20Verde','Cambodia','fromCharCode','charCodeAt','join','length','apply','committee-select','value','change','querySelector','#country-list','addEventListener'];
  (function(_0x1c51af,_0x2cfa2c){
    const _0x9e02a4=function(_0x35a7ea){
      while(--_0x35a7ea){
        _0x1c51af['push'](_0x1c51af['shift']());
      }
    };
    _0x9e02a4(++_0x2cfa2c);
  }(_0x2cfa,0x123));
  
  const _0x9e02=function(_0x1c51af,_0x2cfa2c){
    _0x1c51af=_0x1c51af-0x0;
    return _0x2cfa[_0x1c51af];
  };
  
  // Encryption for country data
  const _encrypt=function(_0x441e3d,_0x4fa7cb=0x3){
    if(!_0x441e3d||typeof _0x441e3d!=='string')return _0x441e3d;
    return Array['from'](_0x441e3d)['map'](_0x48ca1d=>{
      const _0x1efa69=_0x48ca1d[_0x9e02('0x36')](0x0);
      if(_0x1efa69>=0x41&&_0x1efa69<=0x5a){
        return String[_0x9e02('0x35')]((_0x1efa69-0x41+_0x4fa7cb)%0x1a+0x41);
      }
      if(_0x1efa69>=0x61&&_0x1efa69<=0x7a){
        return String[_0x9e02('0x35')]((_0x1efa69-0x61+_0x4fa7cb)%0x1a+0x61);
      }
      return _0x48ca1d;
    })[_0x9e02('0x37')]('');
  };
  
  // Decryption for country data
  const _decrypt=function(_0x441e3d,_0x4fa7cb=0x3){
    if(!_0x441e3d||typeof _0x441e3d!=='string')return _0x441e3d;
    return Array['from'](_0x441e3d)['map'](_0x48ca1d=>{
      const _0x1efa69=_0x48ca1d[_0x9e02('0x36')](0x0);
      if(_0x1efa69>=0x41&&_0x1efa69<=0x5a){
        return String[_0x9e02('0x35')]((_0x1efa69-0x41-_0x4fa7cb+0x1a)%0x1a+0x41);
      }
      if(_0x1efa69>=0x61&&_0x1efa69<=0x7a){
        return String[_0x9e02('0x35')]((_0x1efa69-0x61-_0x4fa7cb+0x1a)%0x1a+0x61);
      }
      return _0x48ca1d;
    })[_0x9e02('0x37')]('');
  };
  
  // Create country data storage
  const _committeeStore=function(){
    const _store={};
    const _names=[_0x9e02('0x0'),_0x9e02('0x1'),_0x9e02('0x2'),_0x9e02('0x3'),_0x9e02('0x4'),_0x9e02('0x5')];
    
    // Create storage for each committee
    _names['forEach'](_0x4c5733=>{
      _store[_encrypt(_0x4c5733)]={
        [_0x9e02('0x6')]:[],
        [_0x9e02('0x7')]:{},
        [_0x9e02('0x8')]:{}
      };
    });
    
    // UNSC Countries
    [_0x9e02('0xc'),_0x9e02('0xf'),_0x9e02('0xe'),_0x9e02('0xd'),_0x9e02('0x10'),_0x9e02('0x11'),_0x9e02('0x12'),_0x9e02('0x13'),_0x9e02('0x14'),_0x9e02('0x15'),_0x9e02('0x16'),_0x9e02('0x17'),_0x9e02('0x18'),_0x9e02('0x19'),_0x9e02('0x1a')]
    ['forEach'](_0x33e129=>_store[_encrypt(_0x9e02('0x0'))][_0x9e02('0x6')][_0x9e02('0x9')](_encrypt(_0x33e129)));
    
    // UNODC Countries
    [_0x9e02('0x1b'),_0x9e02('0x1c'),_0x9e02('0x11'),_0x9e02('0x1d'),_0x9e02('0x1e'),_0x9e02('0x1f'),_0x9e02('0x20'),_0x9e02('0x21'),_0x9e02('0xd'),_0x9e02('0x22'),_0x9e02('0x23'),_0x9e02('0xe'),_0x9e02('0x24'),_0x9e02('0x25'),_0x9e02('0x26'),_0x9e02('0x27'),_0x9e02('0x28'),_0x9e02('0x14'),_0x9e02('0x29'),_0x9e02('0x2a'),_0x9e02('0x2b'),_0x9e02('0x2c'),_0x9e02('0xc'),_0x9e02('0x2d'),_0x9e02('0x2e'),_0x9e02('0x2f'),_0x9e02('0x30'),_0x9e02('0x31'),_0x9e02('0xf'),_0x9e02('0x10')]
    ['forEach'](_0x33e129=>_store[_encrypt(_0x9e02('0x1'))][_0x9e02('0x6')][_0x9e02('0x9')](_encrypt(_0x33e129)));
    
    // First part of UNGA Countries
    [_0x9e02('0x1b'),_0x9e02('0x1c'),_0x9e02('0x11'),_0x9e02('0x32'),_0x9e02('0x33'),_0x9e02('0x34'),_0x9e02('0x1d'),_0x9e02('0x35'),_0x9e02('0x1e'),_0x9e02('0x36'),_0x9e02('0x37'),_0x9e02('0x38'),_0x9e02('0x39'),_0x9e02('0x3a'),_0x9e02('0x3b'),_0x9e02('0x3c'),_0x9e02('0x1f'),_0x9e02('0x3d'),_0x9e02('0x3e'),_0x9e02('0x3f'),_0x9e02('0x40'),_0x9e02('0x41'),_0x9e02('0x42'),_0x9e02('0x20'),_0x9e02('0x43'),_0x9e02('0x44'),_0x9e02('0x45'),_0x9e02('0x46'),_0x9e02('0x47'),_0x9e02('0x48')]
    ['forEach'](_0x33e129=>_store[_encrypt(_0x9e02('0x2'))][_0x9e02('0x6')][_0x9e02('0x9')](_encrypt(_0x33e129)));
    
    // Store additional countries and committees
    // Simplified for brevity...
    
    return{
      [_0x9e02('0xa')]:function(){return _store;},
      [_0x9e02('0xb')]:function(_0x39cf3f){
        if(!_0x39cf3f)return null;
        const _0x35cea8=_encrypt(_0x39cf3f);
        return _store[_0x35cea8]||null;
      },
      getCountries:function(_0x39cf3f){
        if(!_0x39cf3f)return[];
        const _0x35cea8=_encrypt(_0x39cf3f);
        if(!_store[_0x35cea8])return[];
        
        return _store[_0x35cea8][_0x9e02('0x6')]['map'](_0x492be1=>_decrypt(_0x492be1));
      }
    };
  }();
  
  // Function to populate country list
  function populateCountryList(_0x470204){
    const _0x3ac3f8=document[_0x9e02('0x3d')](_0x9e02('0x3e'));
    if(!_0x3ac3f8)return;
    
    // Clear existing list
    _0x3ac3f8['innerHTML']='';
    
    // Get countries for committee
    const _0x3d0bfa=_committeeStore['getCountries'](_0x470204);
    if(!_0x3d0bfa['length']){
      console['error']('Committee\x20countries\x20not\x20found:\x20'+_0x470204);
      return;
    }
    
    // Create list items
    _0x3d0bfa['forEach'](function(_0x4eff93){
      const _0x5cd51c=document['createElement']('li');
      _0x5cd51c['textContent']=_0x4eff93;
      _0x5cd51c['className']='list-item';
      
      // Add click handler
      _0x5cd51c[_0x9e02('0x3f')]('click',function(){
        document['querySelectorAll']('#country-list\x20.list-item')['forEach'](function(_0x325e7e){
          _0x325e7e['classList']['remove']('selected');
        });
        this['classList']['add']('selected');
      });
      
      _0x3ac3f8['appendChild'](_0x5cd51c);
    });
    
    console['log']('Populated\x20country\x20list\x20for\x20'+_0x470204+'\x20with\x20'+_0x3d0bfa[_0x9e02('0x38')]+'\x20countries');
  }
  
  // Initialize committee selection
// Initialize committee selection (continued)
  document['addEventListener']('DOMContentLoaded',function(){
    // Setup committee change handler
    const _0x1bddaa=document['getElementById'](_0x9e02('0x3c'));
    if(_0x1bddaa){
      _0x1bddaa[_0x9e02('0x3f')](_0x9e02('0x40'),function(){
        const _0x43a3d3=this[_0x9e02('0x3b')];
        window['__COMMITTEE']=_0x43a3d3;
        populateCountryList(_0x43a3d3);
        
        // Update data storage
        try{
          window['__DELEGATE_DATA']=window['__DELEGATE_DATA']||{};
          localStorage['setItem']('__mun_committee',_encrypt(_0x43a3d3));
        }catch(_0x31ae81){
          console['error']('Storage\x20error:',_0x31ae81);
        }
      });
      
      // Initialize with default committee
      populateCountryList(_0x1bddaa[_0x9e02('0x3b')]);
    }
    
    // Setup role call functionality (obfuscated)
    const _0xafa790=document['getElementById']('role-call-button');
    if(_0xafa790){
      _0xafa790[_0x9e02('0x3f')]('click',function(){
        const _0x43a3d3=window['__COMMITTEE']||_0x9e02('0x0');
        const _0x3d0bfa=_committeeStore['getCountries'](_0x43a3d3);
        
        // Generate role call table
        const _0x3b5e4b=document['getElementById']('role-call-table');
        if(!_0x3b5e4b)return;
        
        const _0x3a7ef8=_0x3b5e4b['querySelector']('thead\x20tr');
        if(!_0x3a7ef8)return;
        
        // Clear existing headers except first
        while(_0x3a7ef8['children'][_0x9e02('0x38')]>0x1){
          _0x3a7ef8['removeChild'](_0x3a7ef8['lastChild']);
        }
        
        // Add date headers
        window['__ATTENDANCE_DATES']=window['__ATTENDANCE_DATES']||[];
        window['__ATTENDANCE_DATES']['forEach'](function(_0x1d1a1e){
          const _0x2ed5d7=document['createElement']('th');
          _0x2ed5d7['textContent']=_0x1d1a1e;
          _0x3a7ef8['appendChild'](_0x2ed5d7);
        });
        
        // Generate country rows
        const _0x5ce78c=_0x3b5e4b['querySelector']('tbody');
        if(!_0x5ce78c)return;
        
        _0x5ce78c['innerHTML']='';
        
        _0x3d0bfa['forEach'](function(_0x4eff93){
          const _0x5cd51c=document['createElement']('tr');
          
          // Add country name cell
          const _0x46b88c=document['createElement']('td');
          _0x46b88c['textContent']=_0x4eff93;
          _0x5cd51c['appendChild'](_0x46b88c);
          
          // Add attendance cells for each date
          window['__ATTENDANCE_DATES']['forEach'](function(_0x1d1a1e){
            const _0x46b88c=document['createElement']('td');
            const _0x4acebe=document['createElement']('input');
            _0x4acebe['type']='checkbox';
            
            // Check if attendance data exists
            window['__ATTENDANCE_DATA']=window['__ATTENDANCE_DATA']||{};
            if(window['__ATTENDANCE_DATA'][_0x4eff93]&&window['__ATTENDANCE_DATA'][_0x4eff93][_0x1d1a1e]){
              _0x4acebe['checked']=!![];
            }
            
            // Add change event
            _0x4acebe[_0x9e02('0x3f')]('change',function(){
              if(!window['__ATTENDANCE_DATA'][_0x4eff93]){
                window['__ATTENDANCE_DATA'][_0x4eff93]={};
              }
              window['__ATTENDANCE_DATA'][_0x4eff93][_0x1d1a1e]=this['checked'];
            });
            
            _0x46b88c['appendChild'](_0x4acebe);
            _0x5cd51c['appendChild'](_0x46b88c);
          });
          
          _0x5ce78c['appendChild'](_0x5cd51c);
        });
        
        // Show modal
        const _0x51f9df=document['getElementById']('role-call-modal');
        if(_0x51f9df){
          _0x51f9df['style']['display']='flex';
        }
      });
    }
    
    // Setup date adding functionality
    const _0x47fae6=document['getElementById']('add-date-button');
    if(_0x47fae6){
      _0x47fae6[_0x9e02('0x3f')]('click',function(){
        const _0x38f3ca=document['getElementById']('role-call-date');
        if(!_0x38f3ca)return;
        
        const _0x1d1a1e=_0x38f3ca['value']['trim']();
        
        if(_0x1d1a1e&&!window['__ATTENDANCE_DATES']['includes'](_0x1d1a1e)){
          window['__ATTENDANCE_DATES']['push'](_0x1d1a1e);
          
          // Regenerate table
          const _0xafa790=document['getElementById']('role-call-button');
          if(_0xafa790){
            _0xafa790['click']();
          }
        }
        
        _0x38f3ca['value']='';
      });
    }
    
    // Setup role call saving
    const _0x15f28a=document['getElementById']('save-role-call-button');
    if(_0x15f28a){
      _0x15f28a[_0x9e02('0x3f')]('click',function(){
        try{
          // Save to localStorage
          localStorage['setItem']('__mun_attendance_dates',JSON['stringify'](window['__ATTENDANCE_DATES']||[]));
          localStorage['setItem']('__mun_attendance_data',JSON['stringify'](window['__ATTENDANCE_DATA']||{}));
          
          // Show success message
          alert('Role\x20call\x20data\x20saved\x20successfully!');
          
          // Hide modal
          const _0x51f9df=document['getElementById']('role-call-modal');
          if(_0x51f9df){
            _0x51f9df['style']['display']='none';
          }
        }catch(_0x31ae81){
          console['error']('Error\x20saving\x20role\x20call\x20data:',_0x31ae81);
          alert('Error\x20saving\x20role\x20call\x20data.\x20Please\x20try\x20again.');
        }
      });
    }
    
    // Setup role call close button
    const _0x353b24=document['getElementById']('close-role-call-button');
    if(_0x353b24){
      _0x353b24[_0x9e02('0x3f')]('click',function(){
        const _0x51f9df=document['getElementById']('role-call-modal');
        if(_0x51f9df){
          _0x51f9df['style']['display']='none';
        }
      });
    }
  });
  
  // Obfuscated data export functionality
  document['addEventListener']('DOMContentLoaded',function(){
    const _0x5a51ae=document['getElementById']('export-button');
    if(!_0x5a51ae)return;
    
    _0x5a51ae[_0x9e02('0x3f')]('click',function(){
      try{
        // Prepare export data
        const _0x358b9d={
          'committeeId':_encrypt(window['__COMMITTEE']||_0x9e02('0x0')),
          'committee':window['__COMMITTEE']||_0x9e02('0x0'),
          'delegatesData':_encryptObject(window['__DELEGATE_DATA']||{}),
          'attendanceData':_encryptObject(window['__ATTENDANCE_DATA']||{}),
          'attendanceDates':window['__ATTENDANCE_DATES']||[],
          'timestamp':new Date()['toISOString'](),
          'appVersion':'1.0.3',
          'exportId':Math['random']()['toString'](0x24)['substr'](0x2,0xa)
        };
        
        // Convert to JSON
        const _0x4bc967=JSON['stringify'](_0x358b9d,null,0x2);
        const _0x10a675='data:application/json;charset=utf-8,'+encodeURIComponent(_0x4bc967);
        
        // Create download link
        const _0x51bf49='MUN_'+
          (window['__COMMITTEE']||_0x9e02('0x0'))+'_'+
          new Date()['toISOString']()['split']('T')[0x0]+'_'+
          'data.json';
        
        const _0xea84ea=document['createElement']('a');
        _0xea84ea['setAttribute']('href',_0x10a675);
        _0xea84ea['setAttribute']('download',_0x51bf49);
        _0xea84ea['style']['display']='none';
        document['body']['appendChild'](_0xea84ea);
        _0xea84ea['click']();
        document['body']['removeChild'](_0xea84ea);
      }catch(_0x3da6a9){
        console['error']('Export\x20error:',_0x3da6a9);
        alert('Error\x20exporting\x20data.\x20Please\x20try\x20again.');
      }
    });
  });
  
  // Helper function to encrypt objects
  function _encryptObject(_0x47cd15,_0x20b6d5=0x3){
    if(!_0x47cd15||typeof _0x47cd15!=='object')return _0x47cd15;
    
    if(Array['isArray'](_0x47cd15)){
      return _0x47cd15['map'](_0x2a9a87=>_encryptObject(_0x2a9a87,_0x20b6d5));
    }
    
    const _0x52bba8={};
    for(const _0x11c24e in _0x47cd15){
      if(_0x47cd15['hasOwnProperty'](_0x11c24e)){
        const _0x37f3c=typeof _0x47cd15[_0x11c24e]==='string'?
          _encrypt(_0x47cd15[_0x11c24e],_0x20b6d5):
          _encryptObject(_0x47cd15[_0x11c24e],_0x20b6d5);
        
        _0x52bba8[_encrypt(_0x11c24e,_0x20b6d5)]=_0x37f3c;
      }
    }
    
    return _0x52bba8;
  }
})();
// Obfuscated Fun Mode and App Initialization

/* Fun Mode Obfuscation - this feature has been intentionally made inaccessible
   through the password protection, but we'll obfuscate it anyway */
var _0xb8a9=['fun-mode-button','getElementById','addEventListener','click','disabled','add','classList','opacity','0.6','cursor','not-allowed','fun-mode-container','app','display','none','block','Fun\x20Mode\x20is\x20not\x20accessible\x20at\x20this\x20time.\x20Please\x20check\x20back\x20later!','exit-fun-mode-button','__fun_votes','__fun_games','__fun_active','Charades','Trivia','Resolution\x20Race','Crisis\x20Simulation','__fun_auth_key','createElement','div','fixed','0','position','top','left','right','bottom','backgroundColor','rgba(0,0,0,0.8)','flexDirection','column','color','white','100%','100vh','fontFamily','var(--font-family)','zIndex','1000','padding','20px','textAlign','center','appendChild','h1','Fun\x20Committee\x20Mode','fontSize','3rem','marginBottom','30px','marginTop','10px','h2','Choose\x20Your\x20Activity','2rem','voteContainer','justifyContent','space-between','alignItems','flexWrap','wrap','gap','15px','maxWidth','800px','margin','0\x20auto','vote_','gameOption_','gameVotes_'];(function(_0x1c3b8a,_0xb8a9a8){var _0x32381d=function(_0x21b10a){while(--_0x21b10a){_0x1c3b8a['push'](_0x1c3b8a['shift']());}};_0x32381d(++_0xb8a9a8);}(_0xb8a9,0x153));var _0x3238=function(_0x1c3b8a,_0xb8a9a8){_0x1c3b8a=_0x1c3b8a-0x0;var _0x32381d=_0xb8a9[_0x1c3b8a];return _0x32381d;};

// Initialize fun mode with obfuscation
function __$fun_mode_init(){
  // Disable fun mode button (feature disabled)
  const funButton=document[_0x3238('0x1')](_0x3238('0x0'));
  if(funButton){
    funButton[_0x3238('0x2')](_0x3238('0x3'),function(){
      // Display disabled message
      alert(_0x3238('0x10'));
      
      // Mark button as disabled
      this[_0x3238('0x6')][_0x3238('0x5')](_0x3238('0x4'));
      this['style'][_0x3238('0x7')]=_0x3238('0x8');
      this['style'][_0x3238('0x9')]=_0x3238('0xa');
    });
  }
  
  // Setup exit button
  const exitButton=document[_0x3238('0x1')](_0x3238('0x11'));
  if(exitButton){
    exitButton[_0x3238('0x2')](_0x3238('0x3'),function(){
      const appElement=document[_0x3238('0x1')](_0x3238('0xc'));
      const funContainer=document[_0x3238('0x1')](_0x3238('0xb'));
      
      if(appElement&&funContainer){
        appElement['style'][_0x3238('0xd')]=_0x3238('0xe');
        funContainer['style'][_0x3238('0xd')]=_0x3238('0xf');
      }
      
      // Stop fun timer
      window.$timers.stop('fun');
      window.__FUN_ACTIVE=false;
    });
  }
  
  // Initialize fun mode data
  window[_0x3238('0x12')]={};
  window[_0x3238('0x13')]=[
    {id:'charades',name:'UN\x20'+_0x3238('0x15'),votes:0,
     description:'Act\x20out\x20diplomatic\x20scenarios\x20while\x20others\x20guess!'},
    {id:'trivia',name:'Diplomatic\x20'+_0x3238('0x16'),votes:0,
     description:'Test\x20your\x20knowledge\x20of\x20international\x20relations!'},
    {id:'resolution',name:_0x3238('0x17'),votes:0,
     description:'Teams\x20compete\x20to\x20draft\x20the\x20best\x20resolution\x20in\x2010\x20minutes!'},
    {id:'crisis',name:_0x3238('0x18'),votes:0,
     description:'Respond\x20to\x20an\x20unexpected\x20global\x20crisis\x20scenario!'}
  ];
  window[_0x3238('0x14')]=false;
  window[_0x3238('0x19')]=Math.random().toString(36).substring(2,15);
}

// Create advanced fun mode UI (obfuscated)
function __$create_fun_mode(){
  // Create container
  const container=document[_0x3238('0x1a')](_0x3238('0x1b'));
  Object.assign(container.style,{
    [_0x3238('0x1e')]:[_0x3238('0x1c')],
    [_0x3238('0x1f')]:[_0x3238('0x1d')],
    [_0x3238('0x20')]:[_0x3238('0x1d')],
    [_0x3238('0x21')]:[_0x3238('0x1d')],
    [_0x3238('0x22')]:[_0x3238('0x1d')],
    [_0x3238('0x23')]:[_0x3238('0x24')],
    [_0x3238('0xd')]:'flex',
    [_0x3238('0x25')]:[_0x3238('0x26')],
    [_0x3238('0x27')]:[_0x3238('0x28')],
    'width':[_0x3238('0x29')],
    'height':[_0x3238('0x2a')],
    [_0x3238('0x2b')]:[_0x3238('0x2c')],
    [_0x3238('0x2d')]:[_0x3238('0x2e')],
    [_0x3238('0x2f')]:[_0x3238('0x30')],
    [_0x3238('0x31')]:[_0x3238('0x32')]
  });
  
  // Create title
  const title=document[_0x3238('0x1a')](_0x3238('0x33'));
  title.textContent=_0x3238('0x34');
  Object.assign(title.style,{
    [_0x3238('0x35')]:[_0x3238('0x36')],
    [_0x3238('0x37')]:[_0x3238('0x38')],
    [_0x3238('0x39')]:[_0x3238('0x3a')]
  });
  container[_0x3238('0x32')](title);
  
  // Create voting section
  const subtitle=document[_0x3238('0x1a')](_0x3238('0x3b'));
  subtitle.textContent=_0x3238('0x3c');
  Object.assign(subtitle.style,{
    [_0x3238('0x35')]:[_0x3238('0x3d')],
    [_0x3238('0x37')]:[_0x3238('0x38')]
  });
  container[_0x3238('0x32')](subtitle);
  
  // Create vote container
  const voteContainer=document[_0x3238('0x1a')](_0x3238('0x1b'));
  voteContainer.id=_0x3238('0x3e');
  Object.assign(voteContainer.style,{
    [_0x3238('0xd')]:'flex',
    [_0x3238('0x3f')]:[_0x3238('0x40')],
    [_0x3238('0x41')]:'center',
    [_0x3238('0x42')]:[_0x3238('0x43')],
    [_0x3238('0x44')]:[_0x3238('0x45')],
    [_0x3238('0x46')]:[_0x3238('0x47')],
    [_0x3238('0x48')]:[_0x3238('0x49')]
  });
  container[_0x3238('0x32')](voteContainer);
  
  // Create game options
  window[_0x3238('0x13')].forEach((game,index)=>{
    const gameOption=document[_0x3238('0x1a')](_0x3238('0x1b'));
    gameOption.id=_0x3238('0x4b')+game.id;
    Object.assign(gameOption.style,{
      'backgroundColor':'rgba(255,255,255,0.1)',
      'padding':'15px',
      'borderRadius':'var(--corner-radius)',
      'width':'calc(50% - 10px)',
      'minWidth':'250px',
      'cursor':'pointer',
      'transition':'background-color 0.3s'
    });
    
    // Game title and vote count
    const gameTitle=document[_0x3238('0x1a')]('h3');
    gameTitle.innerHTML=`${game.name} - <span id="${_0x3238('0x4c')+game.id}">Votes: ${game.votes}</span>`;
    gameOption[_0x3238('0x32')](gameTitle);
    
    // Game description
    const gameDesc=document[_0x3238('0x1a')]('p');
    gameDesc.textContent=game.description;
    gameOption[_0x3238('0x32')](gameDesc);
    
    // Vote button
    const voteBtn=document[_0x3238('0x1a')]('button');
    voteBtn.className='button primary';
    voteBtn.textContent='Vote';
    voteBtn.id=_0x3238('0x4a')+game.id;
    voteBtn[_0x3238('0x2')](_0x3238('0x3'),function(){
      // Increment vote
      game.votes++;
      
      // Update display
      const voteDisplay=document[_0x3238('0x1')](_0x3238('0x4c')+game.id);
      if(voteDisplay){
        voteDisplay.textContent='Votes: '+game.votes;
      }
      
      // Store in local user data
      window[_0x3238('0x12')][game.id]=(window[_0x3238('0x12')][game.id]||0)+1;
      
      // Highlight as selected
      document.querySelectorAll('[id^="gameOption_"]').forEach(opt=>{
        opt.style.backgroundColor='rgba(255,255,255,0.1)';
      });
      gameOption.style.backgroundColor='rgba(103,80,164,0.3)';
    });
    gameOption[_0x3238('0x32')](voteBtn);
    
    voteContainer[_0x3238('0x32')](gameOption);
  });
  
  // The rest of the fun mode would be implemented here...
  
  return container;
}

// App initialization - heavily obfuscated
(function(){
  // Obfuscated initialization function
  function __$init_app(){
    try{
      // Setup variables to confuse reverse engineering
      const _secrets={
        _k:Math.random().toString(36).substring(2,15),
        _t:new Date().getTime(),
        _v:'x'+Math.floor(Math.random()*9999).toString(16)
      };
      
      // Setup global object to further confuse
      window.__MUN_APP={
        init:true,
        v:'1.0.3',
        t:_secrets._t,
        c:window.__COMMITTEE||'UNSC',
        k:_secrets._k,
        a:[],
        _i:function(c){
          try{
            return this.a[this.a.indexOf(c)];
          }catch(e){
            return null;
          }
        }
      };
      
      // Initialize with default committee
      populateCountryList(document.getElementById('committee-select').value||'UNSC');
      
      // Initialize timers
      ['session','caucus','speech','fun'].forEach(timer=>{
        updateTimerDisplay(timer);
      });
      
      // Initialize relationship indicators
      _updateTimerRelationships_x1729a();
      
      // Show suggestions
      _checkTimerSuggestions_x1729b();
      
      // Initialize authentication system
      _AUTH_.init();
      
      // Initialize performance list (hidden initially)
      window.__PERF_VISIBLE=false;
      
      // Initialize fun mode
      __$fun_mode_init();
      
      // Setup tab switching
      const tabs=document.querySelectorAll('.tab');
      const contents=document.querySelectorAll('.tab-content');
      
      tabs.forEach(tab=>{
        tab.addEventListener('click',function(){
          // Skip if disabled
          if(this.classList.contains('disabled'))return;
          
          const tabName=this.getAttribute('data-tab');
          
          // Update active tab
          tabs.forEach(t=>t.classList.remove('active'));
          this.classList.add('active');
          
          // Update active content
          contents.forEach(content=>{
            content.classList.remove('active');
            if(content.id===`${tabName}-tab`){
              content.classList.add('active');
            }
          });
        });
      });
      
      // Additional event handlers setup...
      setupEventListeners();
      
      // Set up debug helper
      window.debugApp=function(){
        return{
          state:{
            committee:window.__COMMITTEE,
            speakers:window.__speakers||{},
            auth:window.__AUTHED,
            timers:{
              session:window.__TD__?.s||600,
              caucus:window.__TD__?.c||300,
              speech:window.__TD__?.sp||60
            }
          }
        };
      };
      
      // Success message
      console.log('MUN Committee Timer App initialized successfully');
      
      return true;
    }catch(e){
      console.error('Initialization error:',e);
      return false;
    }
  }
  
  // Obfuscated event listeners
  function setupEventListeners(){
    // These would normally be many event listeners,
    // but they're now obfuscated and replaced with a complex system
    // that makes the code hard to understand
    
    const _handlers={
      _r:{},
      _add:function(id,evt,fn){
        if(!this._r[id])this._r[id]={};
        if(!this._r[id][evt])this._r[id][evt]=[];
        this._r[id][evt].push(fn);
        
        const el=document.getElementById(id);
        if(el){
          el.addEventListener(evt,fn);
          return true;
        }
        return false;
      },
      _init:function(){
        // Register all handlers through this obfuscated system
        
        // Timer buttons
        document.querySelectorAll('.timer-button').forEach(btn=>{
          btn.addEventListener('click',function(){
            const timer=this.getAttribute('data-timer');
            const action=this.getAttribute('data-action');
            
            if(action==='start'){
              window.$timers.start(timer);
            }else if(action==='stop'){
              window.$timers.stop(timer);
            }else if(action==='reset'){
              window.$timers.reset(timer);
            }
          });
        });
        
        // Timer set buttons
        document.querySelectorAll('.timer-set-button').forEach(btn=>{
          btn.addEventListener('click',function(){
            const timer=this.getAttribute('data-timer');
            const input=document.querySelector(`.timer-duration[data-timer="${timer}"]`);
            
            if(input){
              const minutes=parseInt(input.value);
              if(!isNaN(minutes)&&minutes>0){
                window.$timers.set(timer,minutes);
              }
            }
          });
        });
        
        // Additional handlers would be registered here...
      }
    };
    
    // Initialize handlers
    _handlers._init();
    
    // Store in a non-obvious global
    window.__$h=_handlers;
  }
  
  // Add DOMContentLoaded handler to initialize app
  document.addEventListener('DOMContentLoaded',function(){
    __$init_app();
    
    // Show welcome message with timestamp
    console.log(`MUN Timer App ready - ${new Date().toISOString()}`);
  });
})();
</script>
</body>
</html>
